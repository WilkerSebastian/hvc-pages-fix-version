<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HVC - Documentação</title>

    <link rel="shortcut icon" href="/img/gavetinha.ico" type="image/x-icon">
</head>
<body>
    <header id="header-doc">
        <nav>
            <a id="home" rel="author" target="_top" href="/index.html">
                <img src="/img/gaveta-logo.png" alt="ícone de gaveta">
                <h1>
                    <span>HV</span><span>C</span>
                </h1>
            </a>
            <menu>
                <li><a class="link-nav-1" href="#go-to-playground" target="_self">Playground</a></li>
                <li><a class="link-nav-2 link-externo" href="/pages/documentation.html" target="_blank">Documentação</a></li>
                <li><a class="link-nav-3 link-externo" href="https://github.com/WilkerSebastian/HV-Compiler" target="_blank">GitHub</a></li>
            </menu>
            <button class="botao-menu"><img src="/img/menu.png" alt=""></button>
        </nav>
    </header>
    <main>
        <section>
            <h1>O Computador HV</h1>
            <hr>
            <p>
                O computador de gaveta representa uma ferramenta pedagógica valiosa em 
                um contexto onde linguagens de programação de alto nível, como JavaScript 
                e Python, predominam. No cenário atual da programação, a relação entre o 
                programador e a máquina, outrora mais evidente, tornou-se desafiadora para 
                novos desenvolvedores. Com o aumento da semelhança entre linguagens de 
                programação e linguagem humana, compreender como o código é interpretado 
                pelo computador tornou-se uma tarefa complexa e que muitas.
            </p>
            <br>
            <p>
                Para enfrentar esse desafio, foi concebido o computador de gaveta. Trata-se de um computador hipotético que adere à arquitetura de Von Neumann, semelhante aos computadores contemporâneos.
            </p>
            <figure></figure>
            <p>
                Entretanto, suas características são simplificadas, preservando funcionalidades análogas às encontradas em componentes reais. A distinção reside na acessibilidade da linguagem de máquina, especialmente projetada para ser compreendida por iniciantes na programação. 
            </p>
            <br>
            <p>
                O propósito deste projeto é resgatar a compreensão da interação entre o código e a máquina, oferecendo uma abordagem mais clara e educativa para aqueles que estão dando os primeiros passos na programação. A intenção é proporcionar uma compreensão mais profunda da relação entre o código escrito e as operações realizadas pelo computador, promovendo uma base sólida para o aprendizado da programação
            </p>
        </section>
        <section>
            <h2>Componentes</h2>
            <p>
                Como dito no trecho anterior, o HV segue uma arquitetura semelhante à arquitetura de Von no Neumann, como mostrado na figura 2. A seguir os estão listados os componentes do HV:
            </p>
            <ul>
                <li>Um gaveteiro com 100 gavetas; </li>
                <li>Uma calculadora com mostrador e teclado; </li>
                <li>Um pequeno quadro-negro denominado EPI; </li>
                <li>Um porta-cartões; </li>
                <li>Uma folha de saída; </li>
                <li>Um operador do sistema, uma pessoa chamada CHICO, com lápis, apagador de quadro-negro e giz;</li>
            </ul>
            <figure></figure>

            <article>
                <h3>Gaveteiro</h3>
                <p>
                    O gaveteiro é como uma série de gavetas numeradas de 00 a 99, sendo este número chamado de seu endereço. Dentro de cada gaveta há uma folha vazia, mas que pode conter até um número de três algarismos (por exemplo, 102, 50, 3, etc.) ou uma instrução  e algumas informações adicionais que vamos abordar mais tarde. Agora, vamos entender como funciona esse sistema de gavetas:
                </p>
                <ul>
                    <li>Em qualquer momento, só podemos abrir uma gaveta.</li>
                    <li>Quando lemos o que está escrito em uma gaveta, isso não muda o que está escrito lá.</li>
                    <li>Antes de escrever algo numa gaveta, precisamos apagar o que já está lá.</li>
                    <li>O valor que será escrito numa gaveta não pode ser inferior a 0 e superior a 999.</li>
                    <li>Somente o operador do sistema pode mexer no gaveteiro.</li>
                    <li>Durante o estado de carga as instruções que estão no porta cartões são guardadas no gaveteiro, até que seja armazenado o cartão contendo a instrução 000, que indica o fim do estado de carga.</li>
                </ul>
                <figure></figure>
            </article>

            <article>
                <h3>Calculadora</h3>
                <p>
                    A calculadora utilizada no HV é semelhante a qualquer outra, apresentando um teclado com dígitos de 0 a 9 e um visor onde são exibidos os resultados das operações. Estes resultados são armazenados no acumulador. No entanto, ao contrário das calculadoras convencionais, esta opera exclusivamente com valores inteiros e oferece apenas quatro operações: soma, subtração, divisão e multiplicação. Com a operação da calculadora sendo realizada desta forma:
                </p>
                <ul>
                    <li>Para carregar um número no acumulador, é necessário pressionar a tecla “=” para garantir o encerramento de qualquer operação anterior. Em seguida, os algarismos do número desejado são digitados. Este número é então exibido no acumulador.</li>
                    <li>Uma operação aritmética é sempre realizada entre o número armazenado no acumulador e um segundo número. Para executá-la, é necessário pressionar a tecla da operação desejada, inserir o segundo número e em seguida pressionar a tecla “=”. O resultado da operação será exibido no acumulador.</li>
                    <li>Assim como o gaveteiro, a calculadora só pode ser utilizada pelo CHICO.</li>
                </ul>
                <figure></figure>
            </article>

            <article>
                <h3>EPI (Quadro Negro)</h3>
                <p>
                    O EPI é um quadro negro que o CHICO usa para deixar anotado o endereço da proxima instrução que ele deve executar durante o estado de execução. Somente o CHICO pode alterar e ler o conteúdo do EPI.
                </p>
                <figure></figure>
            </article>

            <article>
                <h3>Porta Cartões</h3>
                <p>
                    É um componente que se assemelha a um porta cigarros, com os cartões sendo inseridos na parte superior e sendo retirados para leitura na parte inferior. Os cartões que formam o código a ser executado são retirados no estado de carga e então armazenados nas gavetas até se encerrar esse estado. Diferente dos outros componentes, esse pode ser manipulado pelo usuário, e seu funcionamento ocorre da seguinte forma:
                </p>
                <ul>
                    <li>Cartões são inseridos exclusivamente pela parte superior, um por vez. Nos cartões devem estar escritos apenas instruções e números de até 3 algarismos;</li>
                    <li>Cartões são retirados da extremidade inferior, um de cada vez, aparecendo na mesma ordem em que foram colocados no dispositivo;</li>
                    <li>Somente CHICO pode retirar um cartão;</li>
                    <li>A inserção de um cartão só pode ser feita por um usuário;</li>
                    <li>Quando o CHICO executa uma instrução de leitura do porta cartões que se encontra vazio, é solicitado ao usuário que insira um novo cartão para que a execução do programa continue.                   </li>
                </ul>
                <figure></figure>
            </article>

            <article>
                <h3>Folha de Saída</h3>
                <p>
                    Trata-se de uma folha de papel onde pode ser escrito um número em cada linha, utilizando-se sempre linhas consecutivas. Somente o CHICO pode escrever nesta folha e somente o usuário pode ler o que já foi escrito.
                </p>
                <figure></figure>
            </article>

            <article>
                <h3>Operador CHICO</h3>
                <p>
                    Resumindo as diversas características descritas, vemos que o operador CHICO é a única pessoa que tem acesso ao gaveteiro, à calculadora e ao EPI, além de ser o único que pode retirar cartões do porta-cartões e escrever na folha de saída. Ele executa estritamente as ordens recebidas, não podendo tomar nenhuma iniciativa própria ou realizar ação fora da especificação destas. Essas ordens podem ser quaisquer uma das instruções que serão detalhadas na seção A Linguagem de  Máquina do HV. O CHICO trabalha sempre em um de dois estados diferentes:
                </p>

                <article>
                    <h4>Estado de Carga</h4>
                    <p>
                        O estado de carga se inicia assim que o usuário pede a execução do código. Nele o Chico retira um cartão do porta-cartões, lê seu conteúdo e o copia para uma gaveta do gaveteiro, seguindo a sequência das gavetas. Esse processo é repetido até a instrução 000, que indica o fim do programa, ser lida, encerrando o estado de carga e dando início ao estado de execução. 
                    </p>
                    <figure></figure>
                </article>
                
                <article>
                    <h4>Estado de Execução</h4>
                    <p>
                        O estado de execução é o no qual o operador do sistema executa as instruções que foram escritas nas gavetas. O EPI indica ao operador qual gaveta ele deve abrir para ler a instrução, esse sempre se iniciando com o valor 0. Após realizar uma instrução, CHICO atualiza o valor do EPI, geralmente fazendo o incremento de +1 ao valor atual. Novamente ele checará o valor no quadro negro e abrirá a gaveta indicada, até, por fim, executar a instrução 000, finalizando o programa. Para demonstrar melhor como o estado de execução funciona vamos ilustrar com imagens do CHICO executando um programa que imprime 50 na folha de saída. Os detalhes sobre como escrever um código para CHICO executar serão detalhados posteriomente.
                    </p>
                    <figure></figure>
                    <figure></figure>
                    <figure></figure>
                    <figure></figure>
                    <figure></figure>
                </article>
            </article>
        </section>
        <section>
            <h2>A Linguagem de Máquina do HV</h2>
            <p>
                Em computadores reais, os seus conjuntos de instruções é conhecida como linguagem de máquina, o HV mesmo sendo um computador hipotético tem sim sua linguagem de máquina que são os conjuntos de instruções que o CHICO conhece, o CHICO só conhece os números de base 10 então suas instruções são números decimais, sendo composto geralmente por 3 dígitos, com exceção da 0-N. A seguir vamos ver todas as instruções que o CHICO conhece, lembrando que estamos tratando de uma linguagem de baixo nível, então suas instruções são bem simples e restritas, com elas podendo ser divididas em instruções de carga, aritméticas, entrada, saída, controle.
            </p>

            <article>
                <h3>Instruções</h3>

                <article>
                    <h4>Instruções de carregamento:</h4>
                    <ul>
                        <li>0EE (Copie valor da gaveta EE para AC): Esta instrução permite transferir dados armazenados em uma gaveta (registrador temporário) denominada EE para o Acumulador (AC). Isso é fundamental para mover informações entre locais de armazenamento temporário e o registrador principal, onde operações subsequentes podem ser realizadas.</li>
                        <li>1EE (Copie valor do AC para gaveta EE): Inversamente à instrução anterior, esta permite a transferência de dados do Acumulador para uma gaveta específica. É útil quando se deseja preservar temporariamente o conteúdo do Acumulador antes de realizar outras operações.</li>
                        <li>0-N (AC recebe uma constante): Permite carregar uma constante (representada por N) diretamente no Acumulador. Isso é útil para inicializar variáveis ou realizar operações com valores fixos.</li>
                    </ul>
                </article>
                
                <article>
                    <h4>Operações Aritméticas:</h4>
                    <ul>
                        <li>2EE (Some cEE ao AC): Adiciona o valor armazenado em uma gaveta (cEE) ao conteúdo atual do Acumulador.</li>
                        <li>3EE (Subtraia de AC o cEE): Subtrai o valor armazenado em uma gaveta (cEE) do conteúdo atual do Acumulador.</li>
                        <li>4EE (Multiplique o cAC por cEE): Multiplica o conteúdo atual do Acumulador (cAC) pelo valor armazenado em uma gaveta (cEE). </li>
                        <li>5EE (Divida o cAC por cEE): Divide o conteúdo atual do Acumulador (cAC) pelo valor armazenado em uma gaveta (cEE).</li>
                    </ul>
                </article>

                <article>
                    <h4>Controle de Fluxo:</h4>
                    <ul>
                        <li>6EE (Se cAC > 0, vá para EE): Permite a execução condicional, desviando o fluxo do programa para um endereço específico (EE) apenas se o conteúdo do acumulador for maior que zero. Isso é útil para tomar decisões com base em condições.</li>
                        <li>9EE (Vá para cEE): Instrução de desvio incondicional que direciona o fluxo do programa para um endereço específico (EE). É utilizado para implementar loops e sub-rotinas.</li>
                    </ul>
                </article>

                <article>
                    <h4>Entrada/Saída:</h4>
                    <ul>
                        <li>7EE (Leia um valor e guarde na gaveta EE): Permite a entrada de dados a partir do porta cartões, armazenando o valor lido na gaveta especificada (EE). Isso é fundamental para interações com o usuário ou inicialização de dados.</li>
                        <li>8EE (Escreva cEE no dispositivo de saída): Realiza a saída de dados para a folha de saída, utilizando o valor armazenado em uma gaveta específica (cEE). Isso permite a exibição dos dados.</li>
                    </ul>
                </article>
                
                <article>
                    <h4>Controle de Programa:</h4>
                    <ul>
                        <li>000 (Fim do programa): Indica o encerramento do estado de CARGA e início do estado de EXECUÇÃO e quando executado encerra o programa, sinalizando que a execução deve ser interrompida. Essa instrução é essencial para marcar o término do código executável.</li>
                    </ul>
                </article>
            </article>

            <article>
                <h3>Conceitos Essenciais</h3>
                
                <article>
                    <h4>Entrada e Saída</h4>
                    <p>
                        No computador hipotético HV as operações de entrada são realizadas através de um de seus componentes: o porta-cartões.
                    </p>
                    <p>
                        Ao executar uma instrução de leitura (7EE), o operador do sistema irá verificar se há nele algum cartão contendo informação, a fim de armazená-lo na gaveta indicada. Caso o CHICO não encontre um cartão em sua busca, a execução do código será interrompida e prosseguirá apenas quando o usuário inserir um novo dado no porta-cartões.
                    </p>
                    <p>
                        Por também ser o componente no qual o código a ser executado é armazenado, é possível inserir cartões contendo dados a serem utilizados no programa antes de sua execução ao se colocar números após a instrução de final de programa (000). Neste cenário, a instrução de leitura não pediria a inserção de dado pelo usuário, visto que o operador do sistema encontraria já um cartão para guardar.
                    </p>
                    <p>
                        Enquanto isso, a Folha de Saída, outro componente do HV, é responsável por imprimir os dados armazenados em uma gaveta específica, esta indicada pela instrução de escrita (8EE).
                    </p>
                    <figure></figure>
                </article>

                <article>
                    <h4>Variáveis</h4>
                    <p>
                        Na linguagem de máquina do HV, o conceito de variáveis é abordado de forma diferente do que estamos acostumados em linguagens de alto nível. Nessa linguagem, não há uma representação direta de variáveis, e os dados são armazenados em gavetas identificadas por endereços específicos. Para atribuir valores às "variáveis" do seu programa, é necessário escolher um endereço de gaveta e utilizar instruções apropriadas.
                    </p>
                    <p>
                        Considere o seguinte código em Python com três variáveis:
                    </p>
                    <figure></figure>
                    <p>
                        Para obter o mesmo resultado na linguagem de máquina do HV, escolhemos três gavetas, representadas por endereços 30, 31 e 32, respectivamente, para x, y e result. Iniciaremos as "variáveis" durante a leitura do porta-cartões, colocando valores após a instrução 000. Desta forma, durante o estado de carga, esses valores não serão carregados no gaveteiro, garantindo que a leitura com a instrução 7EE atribua corretamente os valores às "variáveis".
                    </p>
                    <figure></figure>
                </article>

                <article>
                    <h4>Desvio</h4>
                    <p>
                        Dentre as funções básicas que o operador do sistema é capaz de realizar, sem dúvidas as instruções de controle de fluxo são umas das que mais abrem possibilidades ao programador para o desenvolvimento de programas mais complexos.
                    </p>
                    <p>
                        A instrução 6EE, por exemplo, pode ser utilizada para construir um programa onde determinada parte do código só é executada caso alguma condição específica seja atendida.
                    </p>
                    <p>
                        A tomada de decisões com base apenas em verificar se o valor do acumulador é maior que zero parece limitada à primeira vista,  mas lembre-se que esse pode ser manipulado de diversas maneiras, se tornando possível, desse modo, realizar praticamente qualquer comparação desejada.
                    </p>
                </article>

                <article>
                    <h4>Laços de repetição</h4>
                    <p>
                        Ao fazer o desvio para uma gaveta anterior, é possível a criação de um laço de repetição, ou seja, um pedaço do código que é executado diversas vezes.
                    </p>
                </article>

                <article>
                    <h4>Sub-rotinas</h4>
                    <p>
                        Se o programador deseja utilizar um mesmo pedaço de código em linguagem de máquina HV mais de uma vez, ele pode  ainda, usando as instruções de desvio, criar sub-rotinas que podem ser chamadas diversas vezes. 
                    </p>
                </article>
            </article>
        </section>
    </main>

    <script src="/src/default.ts" type="module"></script>
    <script src="/src/doc.ts" type="module"></script>
</body>
</html>